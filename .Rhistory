setwd("./fantasy")
setwd("..")
install("fantasy")
setwd(".fantasy")
document()
setwd("./fantasy")
document()
devtools::document()
install_github("tomasokal/rtist")
library(devtools)
install_github("tomasokal/rtist")
setwd("..")
devtools::install("fantasy")
library(fantasy)
gen_tables(2014)
?gen_tables
library(profootballref)
gen_tables(2011)
table2011 <-gen_tables(2011)
class(table2011)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- data %>%
filter(!RK=="Rk")
return(data)
}
gen_tables(2011)
library(xml2)
library(rvest)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- data %>%
filter(!RK=="Rk")
return(data)
}
gen_tables(2011)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
#data <- data %>%
#  filter(!RK=="Rk")
return(data)
}
gen_tables(2011)
table <- gen_tables(2011)
View(table)
table <- table %>%
filter(!RK=="Rk")
table <- table %>%
filter(!`RK`=="Rk")
warnings()
class(table$RK)
table <- table %>%
filter(!`RK`="Rk")
table <- table %>%
filter(!`RK`== "Rk")
table <- table %>%
filter(RK=="Rk")
View(table)
colnames(table)
table <- table %>%
filter(RK == "Rk")
table <- table %>%
filter(table$RK == "Rk")
warnings()
View(table)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- data %>%
filter(!data$RK == "Rk")
return(data)
}
gen_tables(2011)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
#data <- data %>%
#  filter(!data$RK == "Rk")
return(data)
}
da <- gen_tables(2011)
class(data())
class(data
)
class(da)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- as.data.frame(data) %>%
filter(!data$RK == "Rk")
return(data)
}
gen_tables(2011)
library(xml2)
library(rvest)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- as.data.frame(data) %>%
filter(!data$RK == "Rk")
return(data)
}
gen_tables(2011)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
#data <- as.data.frame(data) %>%
#  filter(!data$RK == "Rk")
return(data)
}
gen_tables(2011)
tab <_ gen_tables(2011)
tab <- gen_tables(2011)
View(tab)
colnames(tab)
tab <- filter(tab, RK=="Rk")
library(dplyr)
tab1 <- tab[!data$RK=="Rk"]
class(tab)
tab1 <- tab[!tab$RK=="Rk"]
colnames(tab)
tab1 <- tab[tab$RK=="Rk"]
class(tab$RK)
tab1 <- tab[tab$RK == "Rk"]
tab1 <- tab[tab$RK == "Rk",]
View(tab1)
tab1 <- tab[!tab$RK == "Rk",]
View(tab1)
gen_tables <- function(year) {
url1 <- "https://www.pro-football-reference.com/years/"
url2 <- "/fantasy.htm"
url <- paste(url1, year, url2, sep = "")
url_p <- read_html(url)
table_year <- html_table(url_p, header = TRUE, fill = TRUE)
data <- table_year[[1]]
names(data) <- paste(names(data), data[1, ], sep = "_")
data <- data[-1,]
colnames(data)[1:5] <- c("RK", "Player", "Team", "FantPos", "Age")
data <- data[!data$RK == "Rk",]
return(data)
}
tab <- gen_tables(2011)
View(tab)
library(profootballref)
use_readme_rmd()
library(usethis)
use_readme_rmd()
library(profootballref)
